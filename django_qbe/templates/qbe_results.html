{% extends "qbe.html" %}
{% load i18n %}

{% block extrahead %}{% endblock %}

{% block breadcrumbs %}<div class="breadcrumbs"><a href="{% url admin:index %}">{% trans 'Home' %}</a>{% if title %} &rsaquo; <a href="{% url qbe_form %}">{{ title }}<a> &rsaquo; {% trans "Results" %}{% endif %}</div>
{% endblock %}

{% block content_title %}{% if title %}<h1>{{ title }}: {{ results|length }} result{{ results|length|pluralize }}</h1>{% endif %}{% endblock %}

{% block content %}
{% block object-tools %}
<ul class="object-tools">
  <li>
    <a href="javascript:void(0);" id="qbeExportCSV">{% trans ".csv" %}</a>
  </li>
  <li>
    <a href="javascript:void(0);" id="qbeExportODS">{% trans ".ods" %}</a>
  </li>
  <li>
    <a href="javascript:void(0);" id="qbeExportXLS">{% trans ".xls" %}</a>
  </li>
</ul>
{% endblock %}
<code>
{{ query }}
</code>
<div id="changelist" class="module">
<table cellspacing="0">
    <thead>
        <tr>
        {% for label in labels %}
            <th>{{ label }}</th>
        {% endfor %}
        </tr>
    </thead>
    <tbody>
    {% for result_tuple in results %}
        <tr class="{% cycle 'row1' 'row2' %}">
        {% if admin_urls %}
            {% for result, url in result_tuple %}
                <td><a href={{ url }}>{{ result }}</a></td>
            {% endfor %}
        {% else %}
            {% for result in result_tuple %}
                <td>{{ result }}</a></td>
            {% endfor %}
        {% endif %}
        </tr>
    {% endfor %}
    </tbody>
</table>
</div>
{% endblock %}
